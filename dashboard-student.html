<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>AU Internship Portal - Student Dashboard</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
<style>
/* === Copied core styles from existing dashboard for consistency === */
:root { --primary-color:#0066b2; --secondary-color:#f0f7ff; --border-color:#d0e5ff; --hover-color:#004d86; }
body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background-color:#f8f9fa;font-size:.95rem;}
.header{background:linear-gradient(135deg,var(--primary-color) 0%,#0099cc 100%);box-shadow:0 2px 10px rgba(0,0,0,.1);padding-top:.5rem!important;padding-bottom:.5rem!important;}
.sidebar{background-color:#fff;border-right:1px solid var(--border-color);box-shadow:0 0 15px rgba(0,0,0,.05);padding-top:10px!important;width:210px!important;height:100vh!important;overflow-y:auto!important;}
.sidebar::-webkit-scrollbar{width:8px}.sidebar::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}.sidebar::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:4px}.sidebar::-webkit-scrollbar-thumb:hover{background:#a8a8a8}
@media (max-width:576px){.sidebar{width:180px!important;padding-top:50px!important;height:100vh!important;overflow-y:auto!important}}
.sidebar .nav-link{border-radius:4px;margin-bottom:3px;font-weight:500;color:#444;transition:.2s;font-size:.97rem;padding:.5rem .75rem!important}
.sidebar .nav-link:hover{background-color:var(--secondary-color);color:var(--primary-color)}
.sidebar .nav-link.active{background-color:var(--primary-color);color:#fff;box-shadow:0 2px 5px rgba(0,102,178,.2)}
.sidebar .nav-link .bi{margin-right:8px}
.btn-logout{background-color:#f8f9fa;color:#dc3545;border:1px solid #dc3545;transition:.2s;font-size:.95rem;padding:.4rem .5rem}.btn-logout:hover{background:#dc3545;color:#fff}
#sidebarClose{border:none;background:transparent;transition:.2s;border-radius:4px}#sidebarClose:hover{background:rgba(255,255,255,.2);color:#fff!important}
.sidebar-header{background:var(--primary-color);padding:.75rem;margin:-10px -16px 1rem -16px}.sidebar-header h6{color:#fff!important;font-weight:600;letter-spacing:.5px}
#sidebar{transform:translateX(-100%);transition:transform .3s ease;z-index:1050}#sidebar.show{transform:translateX(0)}
.sidebar-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.3);z-index:1040;opacity:0;visibility:hidden;transition:opacity .3s ease,visibility .3s ease}
.sidebar-overlay.show{opacity:1;visibility:visible}
.container-fluid{margin-left:0!important;margin-top:62px!important;padding:1.5rem 2rem!important;max-width:none!important}
@media (min-width:1200px){.container-fluid{padding:2rem 3rem!important}}
@media (min-width:1400px){.container-fluid{padding:2.5rem 4rem!important}}
@media (min-width:1600px){.container-fluid{padding:3rem 5rem!important}}
.card{font-size:.97rem;padding:.5rem .5rem;transition:transform .2s,box-shadow .2s}.card:hover{transform:translateY(-2px);box-shadow:0 8px 25px rgba(0,0,0,.1)!important}
.alert{font-size:.97rem;padding:.5rem 1rem}
.badge-status{font-size:.6rem;font-weight:600;letter-spacing:.5px}
.progress-mini{height:6px;background:#e6eef6;border-radius:4px;overflow:hidden}.progress-mini span{display:block;height:100%;background:linear-gradient(90deg,#0d6efd,#46b3ff)}
/* Custom sections */
.section-title{font-size:.8rem;font-weight:600;letter-spacing:.5px;color:#555;margin:0 0 .4rem;display:flex;align-items:center;gap:.4rem;text-transform:uppercase}
.small-link{text-decoration:none;font-size:.7rem}
.timeline{list-style:none;margin:0;padding:0;position:relative}.timeline li{background:#fff;border:1px solid var(--border-color);padding:.5rem .6rem;border-radius:6px;font-size:.7rem;margin-bottom:.5rem;display:flex;justify-content:space-between;align-items:center}.timeline li span{font-weight:500}
.timeline li.due-soon{border-color:#ffc107;background:#fffbea}.timeline li.locked{opacity:.55}
.notice{background:#fff;border:1px solid var(--border-color);border-left:4px solid #0d6efd;padding:.55rem .65rem;border-radius:6px;font-size:.7rem;display:flex;gap:.6rem}
.notice .icon{color:#0d6efd}
.status-badge{font-size:.6rem} .status-ok{background:#28a745!important} .status-pending{background:#ffc107!important;color:#000!important} .status-locked{background:#adb5bd!important}
.table-sm td,.table-sm th{padding:.4rem .5rem;font-size:.7rem}
</style>
</head>
<body>
<header class="navbar header text-white py-1 px-2 fixed-top">
  <div class="d-flex align-items-center flex-grow-1">
    <button class="btn text-white me-2 p-0" id="sidebarToggle"><i class="bi bi-list fs-5"></i></button>
    <div class="bg-white rounded-circle d-flex align-items-center justify-content-center me-2" style="width:32px;height:32px;padding:2px;">
      <img src="images/airLogo.png" alt="AU Logo" height="26" class="img-fluid">
    </div>
  <button id="logoTitle" class="logo-title-btn fs-6 fw-bold" type="button" aria-label="Go to dashboard" title="Go to dashboard" style="background:transparent;border:none;color:#fff;padding:0;">AU Internship Portal</button>
  </div>
  <div class="ms-auto d-flex align-items-center position-relative" id="profileArea">
    <button id="profileBtn" class="profile-min-btn" type="button" aria-haspopup="true" aria-expanded="false" title="Profile" style="background:transparent;border:none;color:#fff;display:flex;align-items:center;gap:.4rem;">
      <i class="bi bi-person-circle fs-5"></i>
    </button>
    <div id="profileMenu" class="profile-min-menu" role="menu" aria-hidden="true" style="position:absolute;top:100%;right:0;margin-top:.4rem;min-width:190px;background:#fff;border:1px solid #e2e8f0;border-radius:10px;padding:.6rem .75rem;box-shadow:0 8px 28px -4px rgba(0,0,0,.18);display:none;z-index:2000;font-size:.7rem;animation:fadeSlide .25s ease;">
      <div class="name" id="profileName" style="font-weight:600;font-size:.72rem;color:#1e293b;margin-bottom:2px;">Student Intern</div>
      <div class="email" id="profileEmail" style="font-size:.62rem;color:#64748b;word-break:break-all;margin-bottom:.35rem;">student@example.com</div>
      <button id="quickLogout" class="logout-btn" type="button" style="border:1px solid #dc3545;background:#fff;color:#dc3545;font-size:.62rem;font-weight:600;padding:.3rem .55rem;border-radius:6px;width:100%;margin-top:.5rem;"><i class="bi bi-box-arrow-right me-1"></i>Logout</button>
    </div>
  </div>
</header>
<div class="sidebar-overlay" id="sidebarOverlay"></div>
<nav class="sidebar position-fixed start-0 d-flex flex-column px-3" id="sidebar" style="top:0;">
  <div class="d-flex justify-content-between align-items-center mt-1 sidebar-header">
    <h6 class="fw-semibold mb-0 small">MENU</h6>
    <button class="btn btn-sm text-white p-1" id="sidebarClose"><i class="bi bi-x-lg"></i></button>
  </div>
  <ul class="nav flex-column w-100 mb-2">
    <li class="nav-item"><a href="#" class="nav-link active" data-section="overview"><i class="bi bi-house"></i>Overview</a></li>
    <li class="nav-item"><a href="#" class="nav-link" data-section="forms"><i class="bi bi-ui-checks-grid"></i>My Forms</a></li>
    <li class="nav-item"><a href="#" class="nav-link" data-section="timeline"><i class="bi bi-calendar2-week"></i>Timeline</a></li>
    <li class="nav-item"><a href="#" class="nav-link" data-section="notifications"><i class="bi bi-bell"></i>Notifications</a></li>
    <li class="nav-item"><a href="#" class="nav-link" data-section="help"><i class="bi bi-question-circle"></i>Help</a></li>
  </ul>
  <div class="mt-auto">
    <hr class="my-2">
    <button class="btn btn-logout w-100"><i class="bi bi-box-arrow-right me-1"></i>Logout</button>
  </div>
</nav>
<div class="container-fluid">
  <div id="section-overview">
    <div class="row mb-3">
      <div class="col-12">
        <h3 class="fw-bold fs-5 mb-2">Student Dashboard</h3>
        <div class="alert alert-info d-flex align-items-center py-2 mb-3"><i class="bi bi-info-circle-fill me-2"></i><div class="small">Track your internship progress. Complete required forms on time. Forms unlock based on internship week.</div></div>
      </div>
    </div>
    <div class="row g-3">
      <div class="col-md-4 col-lg-3">
        <div class="card h-100 border-0 shadow-sm">
          <div class="card-body p-3">
            <div class="section-title"><i class="bi bi-graph-up-arrow text-primary"></i>Progress</div>
            <div class="d-flex justify-content-between small"><span>Submitted</span><span><strong id="submittedCount">3</strong>/8</span></div>
            <div class="progress-mini my-2"><span style="width:37.5%"></span></div>
            <div class="small text-muted">Submit at least 6 items before final review window opens.</div>
            <hr class="my-2">
            <ul class="list-unstyled mb-0 small" id="quickStatus">
              <li class="d-flex justify-content-between mb-1"><span>Form B</span><span class="badge bg-warning text-dark status-badge">Pending Faculty</span></li>
              <li class="d-flex justify-content-between mb-1"><span>Form D (W2)</span><span class="badge bg-secondary status-badge">Locked</span></li>
              <li class="d-flex justify-content-between"><span>Form C</span><span class="badge bg-secondary status-badge">Not Received</span></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-md-8 col-lg-6">
        <div class="card h-100 border-0 shadow-sm">
          <div class="card-body p-3">
            <div class="section-title"><i class="bi bi-lightning-charge-fill text-primary"></i>Actionable Forms</div>
            <div class="row g-2">
              <div class="col-sm-6">
                <div class="border rounded p-2 h-100 d-flex flex-column small">
                  <div class="d-flex justify-content-between mb-1"><span class="fw-semibold">Approval (Form B)</span><span class="badge bg-warning text-dark status-badge">Pending</span></div>
                  <div class="text-muted mb-2">Submit to Faculty</div>
                  <a class="btn btn-outline-primary btn-sm mt-auto" href="form-b.html" style="font-size:.7rem;">Open Form</a>
                </div>
              </div>
              <div class="col-sm-6">
                <div class="border rounded p-2 h-100 d-flex flex-column small opacity-75">
                  <div class="d-flex justify-content-between mb-1"><span class="fw-semibold text-muted">Progress W2 (Form D)</span><span class="badge bg-secondary status-badge">Locked</span></div>
                  <div class="text-muted mb-2">Opens in 2 days</div>
                  <button class="btn btn-outline-secondary btn-sm mt-auto disabled" style="font-size:.7rem;" disabled><i class="bi bi-lock me-1"></i>Locked</button>
                </div>
              </div>
              <div class="col-sm-6">
                <div class="border rounded p-2 h-100 d-flex flex-column small opacity-75">
                  <div class="d-flex justify-content-between mb-1"><span class="fw-semibold text-muted">Activity Log (Form F)</span><span class="badge bg-secondary status-badge">Locked</span></div>
                  <div class="text-muted mb-2">Unlocks near end</div>
                  <button class="btn btn-outline-secondary btn-sm mt-auto disabled" style="font-size:.7rem;" disabled><i class="bi bi-lock me-1"></i>Locked</button>
                </div>
              </div>
              <div class="col-sm-6">
                <div class="border rounded p-2 h-100 d-flex flex-column small opacity-75">
                  <div class="d-flex justify-content-between mb-1"><span class="fw-semibold text-muted">Final Report</span><span class="badge bg-secondary status-badge">Locked</span></div>
                  <div class="text-muted mb-2">Due Week 8</div>
                  <button class="btn btn-outline-secondary btn-sm mt-auto disabled" style="font-size:.7rem;" disabled><i class="bi bi-lock me-1"></i>Locked</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-3">
        <div class="card h-100 border-0 shadow-sm">
          <div class="card-body p-3">
            <div class="section-title"><i class="bi bi-bell-fill text-primary"></i>Notifications</div>
            <div class="notice mb-2"><i class="bi bi-person-check icon"></i><div class="flex-grow-1">Faculty approved last progress form.</div></div>
            <div class="notice mb-2"><i class="bi bi-calendar-event icon"></i><div>Week 2 Progress opens soon.</div></div>
            <div class="notice mb-2"><i class="bi bi-info-circle icon"></i><div>Form A recorded. Await faculty follow-up.</div></div>
            <a href="#" data-section="notifications" class="small-link">View all →</a>
          </div>
        </div>
      </div>
    </div>
    <div class="row g-3 mt-1">
      <div class="col-md-7 col-lg-8">
        <div class="card border-0 shadow-sm h-100">
          <div class="card-body p-3">
            <div class="section-title"><i class="bi bi-calendar2-week text-primary"></i>Timeline</div>
            <ul class="timeline">
              <li class="done d-flex justify-content-between"><span>Form A Submitted</span><span class="badge bg-success status-badge">Done</span></li>
              <li class="d-flex justify-content-between"><span>Form B Faculty Review</span><span class="badge bg-warning text-dark status-badge">Pending</span></li>
              <li class="due-soon d-flex justify-content-between"><span>Week 2 Progress (Form D)</span><span class="badge bg-primary status-badge">Opens 2d</span></li>
              <li class="locked d-flex justify-content-between"><span>Site Supervisor Eval (Form C)</span><span class="badge bg-secondary status-badge">Week 4</span></li>
              <li class="locked d-flex justify-content-between"><span>Faculty Evaluation (Form E)</span><span class="badge bg-secondary status-badge">Week 7</span></li>
              <li class="locked d-flex justify-content-between"><span>Activity Log (Form F)</span><span class="badge bg-secondary status-badge">Week 8</span></li>
              <li class="locked d-flex justify-content-between"><span>Final Report Upload</span><span class="badge bg-secondary status-badge">Week 8</span></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-md-5 col-lg-4">
        <div class="card border-0 shadow-sm h-100">
          <div class="card-body p-3">
            <div class="section-title"><i class="bi bi-eye-fill text-primary"></i>Tracking & Feedback</div>
            <table class="table table-sm">
              <thead><tr><th>Form</th><th>Status</th><th></th></tr></thead>
              <tbody>
                <tr><td>Intention (A)</td><td><span class="badge bg-success status-badge">Complete</span></td><td><a href="form-a.html" class="btn btn-outline-primary btn-sm py-0" style="font-size:.65rem;">View</a></td></tr>
                <tr><td>Supervisor Eval (C)</td><td><span class="badge bg-warning text-dark status-badge">Pending</span></td><td><button class="btn btn-outline-secondary btn-sm py-0 disabled" style="font-size:.65rem;" disabled>Wait</button></td></tr>
                <tr><td>Faculty Eval (E)</td><td><span class="badge bg-secondary status-badge">Locked</span></td><td><button class="btn btn-outline-secondary btn-sm py-0 disabled" style="font-size:.65rem;" disabled>Locked</button></td></tr>
              </tbody>
            </table>
            <div class="small text-muted">Statuses update automatically after submissions.</div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Placeholder sections (hidden) to extend later -->
  <div id="section-forms" style="display:none;"><div class="alert alert-secondary small">Detailed forms list will go here.</div></div>
  <div id="section-timeline" style="display:none;"><div class="alert alert-secondary small">Full timeline view.</div></div>
  <div id="section-notifications" style="display:none;"><div class="alert alert-secondary small">All notifications center.</div></div>
  <div id="section-help" style="display:none;"><div class="alert alert-secondary small">FAQ / Support resources.</div></div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
<script>
// Title click returns to overview
document.getElementById('logoTitle')?.addEventListener('click',()=>{
  document.querySelectorAll('nav .nav-link').forEach(l=>l.classList.remove('active'));
  document.querySelector('nav .nav-link[data-section="overview"]')?.classList.add('active');
  document.getElementById('section-overview')?.scrollIntoView({behavior:'smooth'});
});
// Profile dropdown logic
(function(){
  const fallback={name:'Student Intern',email:'student@example.com'}; let uRaw=localStorage.getItem('currentUser'); let u; try{u=uRaw?JSON.parse(uRaw):fallback;}catch{u=fallback;}
  const set=(id,val)=>{const el=document.getElementById(id); if(el) el.textContent=val;}; set('profileName',u.name||fallback.name); set('profileEmail',u.email||fallback.email);
  const btn=document.getElementById('profileBtn'); const menu=document.getElementById('profileMenu'); function closeMenu(){menu.style.display='none'; btn?.classList.remove('open');}
  if(btn&&menu){ btn.addEventListener('click',e=>{e.stopPropagation(); const open=menu.style.display==='block'; document.querySelectorAll('#profileMenu').forEach(m=>m!==menu&&(m.style.display='none')); if(!open){menu.style.display='block';} else closeMenu();}); document.addEventListener('click',e=>{ if(!menu.contains(e.target)&&!btn.contains(e.target)) closeMenu();}); window.addEventListener('keydown',e=>{ if(e.key==='Escape') closeMenu();}); }
  const logout=document.getElementById('quickLogout'); if(logout){logout.addEventListener('click',()=>{localStorage.removeItem('currentUser'); window.location.href='loginForm.html';});}
})();
const sidebar = document.getElementById('sidebar');
const sidebarOverlay = document.getElementById('sidebarOverlay');
const toggleBtn = document.getElementById('sidebarToggle');
const closeBtn = document.getElementById('sidebarClose');
function toggleSidebar(){sidebar.classList.toggle('show');sidebarOverlay.classList.toggle('show');}
function closeSidebar(){sidebar.classList.remove('show');sidebarOverlay.classList.remove('show');}
[toggleBtn,closeBtn,sidebarOverlay].forEach(el=>el&&el.addEventListener('click',e=>{if(el===toggleBtn)toggleSidebar(); else closeSidebar();}));
// Nav section switching
const sections = ['overview','forms','timeline','notifications','help'];
document.addEventListener('click',e=>{const link = e.target.closest('[data-section]');if(!link)return;e.preventDefault();const sec = link.getAttribute('data-section');document.querySelectorAll('.nav-link').forEach(l=>l.classList.remove('active'));link.classList.add('active');sections.forEach(s=>{document.getElementById('section-'+s)?.style.setProperty('display', s===sec?'block':'none');});closeSidebar();});
</script>
</body>
</html>
